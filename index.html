<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ğŸ’˜ Para Jelly ğŸ¼</title>
  <style>
    :root{
      --bg1:#090a14;
      --bg2:#1a0b2e;
      --card:#ffffff10;
      --stroke:#ffffff22;
      --text:#fff;
      --muted:#ffffffbf;
      --pink1:#ff4d8d;
      --pink2:#ff7ab3;
      --btn2:#ffffff14;
      --btn2Stroke:#ffffff2a;
    }
    *{box-sizing:border-box}
    body{
      margin:0; min-height:100svh; display:grid; place-items:center;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--text);
      background:
        radial-gradient(1200px 800px at 18% 12%, #ff4d8d2e, transparent 60%),
        radial-gradient(1200px 800px at 82% 20%, #7c3aed30, transparent 55%),
        linear-gradient(180deg, var(--bg1), var(--bg2));
      overflow:hidden;
    }

    /* Corazones flotando */
    .hearts{position:fixed; inset:0; pointer-events:none; opacity:.95; filter: drop-shadow(0 6px 12px #00000055);}
    .heart{
      position:absolute; width:12px; height:12px; transform: rotate(45deg);
      background: var(--pink1); border-radius: 3px; animation: floatUp linear infinite; opacity:.82;
    }
    .heart::before,.heart::after{content:""; position:absolute; width:12px; height:12px; background:inherit; border-radius:50%;}
    .heart::before{left:-6px; top:0}
    .heart::after{top:-6px; left:0}
    @keyframes floatUp{
      from{transform: translateY(20px) rotate(45deg); opacity:0}
      10%{opacity:.85}
      to{transform: translateY(-120vh) rotate(45deg); opacity:0}
    }

    .wrap{width:min(720px, 94vw); padding:18px;}
    .card{
      background: linear-gradient(180deg, #ffffff14, #ffffff0c);
      border:1px solid var(--stroke);
      border-radius:24px;
      padding:22px 18px 18px;
      backdrop-filter: blur(10px);
      box-shadow: 0 18px 60px #00000055;
      position:relative;
      overflow:hidden;
    }
    .badge{
      display:inline-flex; gap:10px; align-items:center;
      padding:8px 12px; border:1px solid var(--stroke);
      border-radius:999px; background:#ffffff0d;
      color:var(--muted); font-size:13px;
    }
    h1{
      margin:14px 0 8px;
      font-size: clamp(24px, 3.6vw, 38px);
      line-height:1.08;
      letter-spacing:.2px;
    }
    p{
      margin: 0 0 14px;
      color: var(--muted);
      line-height:1.55;
      font-size: 15.8px;
    }
    .type{
      min-height: 26px;
      font-weight:900;
      color:#fff;
      margin-bottom:10px;
    }

    /* Botones seguros en celular: NO se superponen */
    .actions{
      margin-top:16px;
      display:flex;
      gap:12px;
      flex-wrap:wrap;
      justify-content:center;
      padding: 8px 0 2px;
    }
    button{
      border:0; padding: 12px 16px;
      border-radius: 16px;
      font-weight: 900;
      cursor:pointer;
      transition: transform .12s ease, filter .12s ease, box-shadow .12s ease;
      user-select:none;
      width: min(260px, 100%);
      flex: 1 1 220px;
      max-width: 320px;
    }
    button:active{ transform: scale(.98); }
    .yes{
      background: linear-gradient(135deg, var(--pink1), var(--pink2));
      color:#fff;
      box-shadow: 0 12px 28px #ff4d8d40;
    }
    .yes:hover{ filter:brightness(1.05); transform: translateY(-1px); }
    .no{
      background: var(--btn2);
      border:1px solid var(--btn2Stroke);
      color:#fff;
      box-shadow: 0 10px 26px #0000002d;
    }

    .footer{
      margin-top:14px;
      display:flex; justify-content:space-between; gap:10px; flex-wrap:wrap;
      color:#ffffffa8;
      font-size:12.8px;
    }

    /* Overlay final (arreglado) */
    .overlay{
      position:fixed; inset:0; display:none; place-items:center;
      background: #050612cc; backdrop-filter: blur(8px);
      z-index: 10; padding: 18px;
    }
    .overlay.show{ display:grid; }
    .modal{
      width: min(720px, 94vw);
      border-radius: 26px;
      background: linear-gradient(180deg, #ffffff18, #ffffff10);
      border: 1px solid #ffffff22;
      box-shadow: 0 30px 90px #00000066;
      padding: 22px 18px 20px;
      position:relative;
      overflow:hidden;
    }
    .close{
      width:36px;
      height:36px;
      border-radius:12px;
      background:#ffffff14;
      border:1px solid #ffffff2a;
      color:#fff;
      font-size:18px;
      cursor:pointer;
      padding:0;
      min-width:auto;
      flex: 0 0 auto;
      display:grid;
      place-items:center;
    }

    .chips{
      display:flex;
      flex-wrap:wrap;
      gap:8px;
      margin: 10px 0 2px;
    }
    .chip{
      font-size:13px;
      color:#fff;
      background:#ffffff14;
      border:1px solid #ffffff24;
      padding:8px 10px;
      border-radius:999px;
    }

    .tiny{font-size:12.5px; color:#ffffffa6; margin-top:10px;}

    @media (max-width: 520px){
      .actions{flex-direction:column; align-items:stretch;}
      button{max-width: 100%;}
    }

    /* Toast */
    .toast{
      position: fixed;
      left: 50%;
      bottom: 18px;
      transform: translateX(-50%);
      background: #0b0c16cc;
      border: 1px solid #ffffff22;
      color: #fff;
      padding: 10px 12px;
      border-radius: 14px;
      backdrop-filter: blur(8px);
      box-shadow: 0 18px 50px #00000066;
      display:none;
      z-index: 11;
      font-weight: 800;
      font-size: 13px;
      max-width: min(520px, 92vw);
      text-align:center;
    }
    .toast.show{display:block;}
  </style>
</head>

<body>
  <div class="hearts" id="hearts"></div>

  <div class="wrap">
    <main class="card" aria-live="polite">
      <div class="badge">ğŸ’Œ Para <b>Jelly ğŸ¼</b> Â· <span id="today"></span></div>

      <h1>Tengo una pregunta seriaâ€¦ ğŸµğŸ’˜ğŸ¼</h1>
      <div class="type" id="typeLine"></div>

      <p id="subtext">
        No es una pregunta cualquiera, pandaâ€¦ es una de esas que quiero guardar con nosotros. ğŸ¼âœ¨
      </p>

      <div class="actions" id="actions">
        <button class="yes" id="yesBtn">ğŸµğŸ’– SÃ­, acepto</button>
        <button class="no" id="noBtn">ğŸ¼ğŸ™ˆ No</button>
      </div>

      <div class="footer">
        <span>Hecho con â¤ï¸ por AJ ğŸµ</span>
        <span>para Jelly ğŸ¼</span>
      </div>
    </main>
  </div>

  <!-- FINAL (bonito y centrado) -->
  <section class="overlay" id="overlay" role="dialog" aria-modal="true" aria-label="Respuesta">
    <div class="modal">

      <div style="display:flex; justify-content:space-between; align-items:center; gap:12px; margin-bottom:10px;">
        <div class="badge">ğŸ‰ Â¡Dijo que sÃ­! ğŸ¼ğŸ’ğŸµ</div>
        <button class="close" id="closeBtn" aria-label="Cerrar">âœ•</button>
      </div>

      <h2 style="margin:10px 0 8px; font-size: clamp(22px, 3.4vw, 34px); line-height:1.1;">
        Jellyâ€¦ me haces muy feliz ğŸµğŸ’˜ğŸ¼
      </h2>

      <p style="margin-bottom:14px;">
        Gracias por decir que sÃ­. Prometo cuidarte, escucharte y hacerte reÃ­r siempre.
        Elegirte es algo que hago con el corazÃ³n.
      </p>

      <div class="chips" style="margin-bottom:18px;">
        <span class="chip">ğŸ¿ Cine</span>
        <span class="chip">ğŸ• Comida rica</span>
        <span class="chip">ğŸŒ· Tulipanes</span>
        <span class="chip">ğŸ“¸ Fotos juntos</span>
        <span class="chip">ğŸ¶ Playlist</span>
      </div>

      <div style="display:flex; justify-content:center;">
        <button class="yes" id="saveMomentBtn" style="max-width:320px;">
          ğŸ’– Guardar este momento
        </button>
      </div>

      <p class="tiny" style="text-align:center; margin-top:12px;">
        Pista: este es uno de esos recuerdos que valen oro ğŸ¼âœ¨
      </p>
    </div>
  </section>

  <div class="toast" id="toast"></div>

  <script>
    // Fecha bonita (Lima)
    const now = new Date();
    document.getElementById("today").textContent =
      now.toLocaleDateString("es-PE", { weekday:"long", year:"numeric", month:"long", day:"numeric" });

    // Texto â€œmÃ¡quinaâ€
    const typeEl = document.getElementById("typeLine");
    const question = "Â¿Quieres ser mi San ValentÃ­n, Jelly? ğŸ¼";

    async function typeText(el, text, speed=32){
      el.textContent = "";
      for (let i=0; i<text.length; i++){
        el.textContent += text[i];
        await new Promise(r => setTimeout(r, speed));
      }
    }
    (async () => { await typeText(typeEl, question, 30); })();

    // Corazones flotando
    const hearts = document.getElementById("hearts");
    function spawnHeart(){
      const h = document.createElement("div");
      h.className = "heart";
      const left = Math.random() * 100;
      const size = 10 + Math.random() * 14;
      const dur = 6 + Math.random() * 6;
      h.style.left = left + "vw";
      h.style.bottom = (-10 - Math.random()*20) + "px";
      h.style.width = size + "px";
      h.style.height = size + "px";
      h.style.animationDuration = dur + "s";
      const hue = 330 + Math.random() * 25;
      h.style.background = `hsl(${hue} 100% 65%)`;
      hearts.appendChild(h);
      setTimeout(() => h.remove(), dur*1000);
    }
    setInterval(spawnHeart, 220);

    // BotÃ³n NO (muchas interacciones, ordenadas)
    const noBtn = document.getElementById("noBtn");
    const yesBtn = document.getElementById("yesBtn");
    const actions = document.getElementById("actions");

    const noMessages = [
      "ğŸ¼ Â¿Segura? Yo hice esto con cariÃ±o ğŸ¥º",
      "ğŸ¼ Ese â€˜noâ€™ me dio cosquillitas en el corazÃ³n ğŸ˜³",
      "ğŸ¼ Ok, peroâ€¦ mÃ­rame tantito ğŸµğŸ‘‰ğŸ‘ˆ",
      "ğŸ¼ Si dices que no, el monito se pone triste ğŸµğŸ¥º",
      "ğŸ¼ Prometo portarme bienâ€¦ (la mayorÃ­a del tiempo) ğŸ˜‡",
      "ğŸ¼ Â¿Y si lo pensamos con comida rica? ğŸ•ğŸ˜Œ",
      "ğŸ¼ Yo pongo la inka y tÃº eliges la canciÃ³n ğŸ¶ğŸ¼",
      "ğŸ¼ Te debo un abrazo largo, de esos que curan ğŸ«¶",
      "ğŸ¼ El botÃ³n rosa se ve hermoso no? ğŸ‘€ğŸ’–",
      "ğŸ¼ ImagÃ­nate: cine, risas y tÃº ahÃ­ conmigo ğŸ¿âœ¨",
      "ğŸ¼ Un â€˜sÃ­â€™ tuyo y me vuelvo el monito mÃ¡s feliz ğŸµğŸ’˜",
      "ğŸ¼ Okâ€¦ me rindo (mentira) ğŸ˜œ",
      "ğŸ¼ Jellyyyy ğŸ¼ğŸ’— (con respeto, pero insistencia) ğŸ˜Œ",
      "ğŸ¼ El panda y el monito hacen buen equipo ğŸ¼ğŸµ",
      "ğŸ¼ Spoiler: el destino estÃ¡ empujando al â€˜sÃ­â€™ ğŸ’«",
      "ğŸ¼ Â¿Y si este â€˜sÃ­â€™ lo guardamos para siempre? ğŸ¥¹",
      "ğŸ¼ Ãšltima oportunidad antes del abrazo sorpresa ğŸ˜³ğŸ«¶",
      "ğŸ¼ Te juro que voy a cuidarte bonito ğŸŒ·",
      "ğŸ¼ Daleâ€¦ di que sÃ­ y yo digo â€˜graciasâ€™ mil veces ğŸ¥º",
      "ğŸ¼ Ok, okâ€¦ tÃº ganasâ€¦ (mentira x2, el â€˜sÃ­â€™ sigue esperando) ğŸ˜ŒğŸ’–",
      "ğŸ¼ Plot twist: tÃº querÃ­as decir â€˜sÃ­â€™ y tu dedo se confundiÃ³ ğŸ˜…",
      "ğŸ¼ Ya, ahora sÃ­: Â¿sÃ­? ğŸµğŸ’˜ğŸ¼"
    ];
    let noCount = 0;

    function teaseNo(){
      noBtn.textContent = noMessages[Math.min(noCount, noMessages.length-1)];
      noCount++;

      // hacer el "SÃ­" mÃ¡s tentador SIN romper el layout
      const scale = 1 + Math.min(noCount, 10) * 0.035; // tope razonable
      yesBtn.style.transform = `scale(${scale})`;

      // alternar el orden (juego visual sin superposiciÃ³n)
      if (noCount % 2 === 1) actions.insertBefore(noBtn, yesBtn);
      else actions.insertBefore(yesBtn, noBtn);
    }

    noBtn.addEventListener("mouseenter", teaseNo);
    noBtn.addEventListener("click", teaseNo);
    noBtn.addEventListener("touchstart", (e) => { e.preventDefault(); teaseNo(); }, {passive:false});

    // Modal final
    const overlay = document.getElementById("overlay");
    const closeBtn = document.getElementById("closeBtn");
    yesBtn.addEventListener("click", () => overlay.classList.add("show"));
    closeBtn.addEventListener("click", () => overlay.classList.remove("show"));
    overlay.addEventListener("click", (e) => { if (e.target === overlay) overlay.classList.remove("show"); });

    // Toast
    const toast = document.getElementById("toast");
    function showToast(msg){
      toast.textContent = msg;
      toast.classList.add("show");
      clearTimeout(window.__toastTimer);
      window.__toastTimer = setTimeout(()=> toast.classList.remove("show"), 5200);
    }
    function isIOS(){
      return /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
    }

    // Guardar este momento (instrucciones para captura)
    document.getElementById("saveMomentBtn").addEventListener("click", () => {
      if (isIOS()){
        showToast("ğŸ“¸ Para guardar este momento: botÃ³n lateral + subir volumen (iPhone) ğŸ¼ğŸ’˜");
      } else {
        showToast("ğŸ“¸ Para guardar este momento: encendido + bajar volumen (Android) ğŸ¼ğŸ’˜");
      }
    });
  </script>
</body>
</html>
